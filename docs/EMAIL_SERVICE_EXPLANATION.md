# 📧 הסבר על Email Service (SMTP)

## מה זה Email Service?

**Email Service** זה שירות לשליחת מיילים **מהשרת שלך** למשתמשים.

---

## מה ההבדל?

### ✅ Email Verification (כבר עובד!)
**מה זה:**  
- שליחת מייל אימות כשמשתמש נרשם
- זה עובד דרך **Supabase** (אוטומטי!)
- לא צריך הגדרה נוספת

**דוגמה:**  
```
משתמש נרשם → Supabase שולח מייל אימות → משתמש לוחץ על הלינק → אימייל מאומת ✅
```

---

### ⚠️ Email Service (SMTP) - צריך הגדרה
**מה זה:**  
- שליחת **התראות** למשתמשים (כשזוהתה הונאה)
- שליחת **דוחות חודשיים** במייל
- שליחת **הודעות welcome** ו-onboarding

**דוגמה:**  
```
זוהתה הונאה → השרת שולח מייל: "🚨 זוהתה הונאה בקמפיין X"
דוח חודשי → השרת שולח מייל: "📊 הדוח החודשי שלך מוכן"
```

---

## למה צריך את זה?

### מה עובד בלי Email Service:
- ✅ Email Verification (דרך Supabase)
- ✅ כל הפיצ'רים במערכת
- ✅ Dashboard, Profile, וכו'

### מה לא עובד בלי Email Service:
- ❌ שליחת התראות במייל (כשזוהתה הונאה)
- ❌ שליחת דוחות חודשיים במייל
- ❌ הודעות welcome/onboarding

**המסקנה:**  
המערכת **עובדת** גם בלי זה, אבל זה משפר את ה-UX (המשתמש מקבל התראות במייל).

---

## איך להגדיר?

### שלב 1: בחר ספק Email

**אפשרויות:**
1. **SendGrid** (מומלץ) - 100 מיילים/יום חינם
2. **Mailgun** - 5,000 מיילים/חודש חינם
3. **Gmail SMTP** - חינם, אבל מוגבל

### שלב 2: קבל API Key

**דוגמה עם SendGrid:**
1. הירשם ל-SendGrid (חינם)
2. לך ל-Settings → API Keys
3. צור API Key חדש
4. העתק את ה-Key

### שלב 3: הוסף ל-`.env.local`

```env
# Email Service (SMTP)
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASS=your_sendgrid_api_key_here
EMAIL_FROM=noreply@magenad.com
```

### שלב 4: בדוק

המערכת תשלח מיילים אוטומטית:
- כשזוהתה הונאה → מייל התראה
- בסוף כל חודש → דוח חודשי

---

## מה הקוד עושה?

**בקוד יש:**
- ✅ `AlertService.js` - שולח התראות במייל
- ✅ `generate-monthly-report.js` - שולח דוחות במייל
- ✅ Email templates מוכנים

**מה חסר:**
- ❌ רק הגדרת SMTP ב-`.env.local`

---

## סיכום

**Email Service = שליחת התראות ודוחות במייל**

**האם זה חוסם Launch?**  
❌ לא! המערכת עובדת גם בלי.

**מתי להוסיף?**  
אחרי Soft Launch, כשהכל עובד.

**זמן הגדרה:**  
1 שעה (רישום + הגדרה)

---

**תאריך:** 2026-01-XX  
**עודכן על ידי:** AI Assistant
